/*
* Copyright (c) TIKI Inc.
* MIT license. See LICENSE file in root directory.
*/

package com.mytiki.kgraph.features.latest.graph;

import com.arangodb.springframework.repository.ArangoRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

@Component
public class GraphVertexLookup {
{{#vertices}}
    private final GraphVertex{{{name_pascal}}}Repository {{{name_camel}}}Repository;
{{/vertices}}

    @Autowired
    public GraphVertexLookup(
{{#vertices}}
        GraphVertex{{{name_pascal}}}Repository {{{name_camel}}}Repository{{^last}}, {{/last}}
{{/vertices}}
    ){
{{#vertices}}
        this.{{{name_camel}}}Repository = {{{name_camel}}}Repository;
{{/vertices}}
    }

    public Class<?> getDOClass(String name){
        switch (name){
{{#vertices}}
            case "{{{name_camel}}}":
                return GraphVertex{{{name_pascal}}}DO.class;
{{/vertices}}
            default:
                return null;
        }
    }

    public ArangoRepository getRepository(String name){
        switch (name){
{{#vertices}}
            case "{{{name_camel}}}":
                return {{{name_camel}}}Repository;
{{/vertices}}
            default:
                return null;
        }
    }
}
